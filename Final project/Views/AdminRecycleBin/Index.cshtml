@model RecycleBinViewModel

@{
    ViewData["Title"] = "Recycle Bin";
    Layout = "AdminLayout";

}
<style>
    /* Main Content */
    .main-content {
        flex: 1;
        padding: 2rem;
        background: var(--amazon-light);
    }

    .dashboard-title {
        margin-bottom: 1.5rem;
        padding-bottom: 0.8rem;
        border-bottom: 2px solid var(--amazon-orange);
        animation: fadeIn 1s ease;
    }

    .dashboard-title h1 {
        color: var(--amazon-dark);
        font-size: 2.2rem;
        position: relative;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .dashboard-title h1:after {
        content: '';
        position: absolute;
        bottom: -12px;
        left: 0;
        width: 60px;
        height: 4px;
        background: var(--amazon-orange);
        border-radius: 2px;
    }


    /* Tabs Navigation */
    .tabs-nav {
        display: flex;
        gap: 10px;
        margin-bottom: 2rem;
        border-bottom: 2px solid rgba(0, 0, 0, 0.1);
    }

    .tab-btn {
        padding: 0.8rem 1.8rem;
        border: none;
        background: transparent;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        position: relative;
        color: #666;
        border-radius: 5px 5px 0 0;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .tab-btn.active {
        color: var(--amazon-orange);
    }

    .tab-btn.active:after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 4px;
        background: var(--amazon-orange);
        border-radius: 2px;
    }

    .tab-btn:hover {
        color: var(--amazon-dark);
        background: rgba(255, 153, 0, 0.1);
    }

    /* Tab Content */
    .tab-content {
        display: none;
        animation: fadeIn 0.5s ease;
    }

    .tab-content.active {
        display: block;
    }

    /* Stats Section */
    .stats-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        border: 1px solid rgba(0, 0, 0, 0.05);
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }

    .stat-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8rem;
    }

    .icon-red {
        background: rgba(231, 76, 60, 0.15);
        color: var(--amazon-danger);
    }

    .icon-blue {
        background: rgba(52, 152, 219, 0.15);
        color: var(--amazon-info);
    }

    .icon-orange {
        background: rgba(255, 153, 0, 0.15);
        color: var(--amazon-orange);
    }

    .icon-purple {
        background: rgba(155, 89, 182, 0.15);
        color: #9b59b6;
    }

    .stat-info {
        flex: 1;
    }

    .stat-value {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--amazon-dark);
    }

    .stat-label {
        font-size: 0.9rem;
        color: #666;
    }

    /* Products Table */
    .table-container {
        overflow-x: auto;
        margin-top: 2rem;
    }

    .data-table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    }

    .data-table th {
        background: var(--amazon-orange);
        color: white;
        text-align: left;
        padding: 1rem;
        font-weight: 600;
    }

    .data-table td {
        padding: 1rem;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .data-table tr:last-child td {
        border-bottom: none;
    }

    .data-table tr:hover {
        background-color: rgba(255, 153, 0, 0.03);
    }

    .item-image {
        width: 60px;
        height: 60px;
        border-radius: 8px;
        object-fit: cover;
        border: 1px solid #eee;
    }

    .item-info {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .item-details {
        display: flex;
        flex-direction: column;
    }

    .item-name {
        font-weight: 600;
        color: var(--amazon-dark);
        margin-bottom: 0.2rem;
    }

    .item-id {
        font-size: 0.85rem;
        color: #666;
    }

    .deleted-by {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .deleted-by img {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        object-fit: cover;
    }

    .status-badge {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
        display: inline-block;
    }

    .status-deleted {
        background: rgba(231, 76, 60, 0.15);
        color: var(--amazon-danger);
    }

    /* Action Buttons */
    .action-buttons {
        display: flex;
        gap: 0.8rem;
    }

    .action-btn {
        padding: 0.6rem 1.2rem;
        border-radius: 50px;
        border: none;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.9rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
        z-index: 1;
    }

    .action-btn:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
        transition: all 0.6s;
        z-index: -1;
        transform: translateX(-100%);
    }

    .action-btn:hover:before {
        transform: translateX(100%);
    }

    .action-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .action-btn i {
        transition: all 0.3s;
    }

    .action-btn:hover i {
        transform: scale(1.2);
    }

    .btn-restore {
        background: linear-gradient(135deg, var(--amazon-success), #00cc7a);
        color: white;
    }

    .btn-delete {
        background: linear-gradient(135deg, var(--amazon-danger), #ff6b6b);
        color: white;
    }

    /* Bulk Actions */
    .bulk-actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 1.5rem;
        padding: 1.2rem;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    }

    .select-all {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .bulk-buttons {
        display: flex;
        gap: 1rem;
    }

    .bulk-btn {
        padding: 0.8rem 1.5rem;
        border-radius: 50px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .bulk-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .btn-restore-all {
        background: linear-gradient(135deg, var(--amazon-success), #00cc7a);
        color: white;
    }

    .btn-delete-all {
        background: linear-gradient(135deg, var(--amazon-danger), #ff6b6b);
        color: white;
    }

    /* Animations */
    @@keyframes slideDown {
        from

    {
        transform: translateY(-100%);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }

    }

    @@keyframes fadeIn {
        from

    {
        opacity: 0;
    }

    to {
        opacity: 1;
    }

    }

    @@keyframes cardEntrance {
        from

    {
        opacity: 0;
        transform: scale(0.9) translateY(40px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }

    }

    /* Responsive */
    @@media (max-width: 992px) {
        .sidebar

    {
        width: 70px;
    }

    .sidebar-item span {
        display: none;
    }

    .sidebar-item i {
        margin-right: 0;
    }

    .stats-container {
        grid-template-columns: 1fr;
    }

    }

    @@media (max-width: 768px) {
        .amazon-header

    {
        flex-direction: column;
        padding: 1rem;
    }

    .logo-section {
        margin-bottom: 1rem;
    }

    .search-bar {
        width: 100%;
        margin-bottom: 1rem;
    }

    .user-actions {
        width: 100%;
        justify-content: space-around;
    }

    .bulk-actions {
        flex-direction: column;
        gap: 15px;
    }

    .tabs-nav {
        flex-wrap: wrap;
    }

    .tab-btn {
        flex: 1;
        justify-content: center;
    }

    }

    @@media (max-width: 576px) {
        .action-buttons

    {
        flex-direction: column;
        gap: 0.5rem;
    }

    .action-btn {
        width: 100%;
        justify-content: center;
    }

    .bulk-buttons {
        width: 100%;
        justify-content: center;
    }

    }</style>

<!-- Main Content -->
<main class="main-content">
    <div class="dashboard-title">
        <h1><i class="fas fa-trash-alt"></i> Recycle Bin</h1>
    </div>

    <!-- Tabs Navigation -->
    <div class="tabs-nav recycle-bin-card">
        <button class="tab-btn active" data-tab="products">
            <i class="fas fa-box"></i> Deleted Products
        </button>
        <button class="tab-btn" data-tab="categories">
            <i class="fas fa-tags"></i> Deleted Categories
        </button>
        <button class="tab-btn" data-tab="sellers">
            <i class="fas fa-store"></i> Deleted Sellers
        </button>
        <button class="tab-btn" data-tab="support">
            <i class="fas fa-solid fa-user-tie"></i> Deleted Customer Service
        </button>
    </div>

    <!-- Products Tab Content -->
    <div class="tab-content active" id="products-tab">
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>

                        <th>Product</th>
                        <th>Category</th>
                        <th>Seller</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Product 1 -->
                    @foreach (var p in Model.DeletedProducts)
                    {
                        <tr>
                            <td>
                                <div class="item-info">
                                    <img src="@p.product_images" alt="Smartphone" class="item-image">
                                    <div class="item-details">
                                        <div class="item-name"></div>
                                        <div class="item-id">ID: @p.id</div>
                                    </div>
                                </div>
                            </td>
                            <td>@p.category.name</td>
                            <td>
                                <div class="deleted-by">
                                    <img src="@Model.Users.FirstOrDefault(s=>s.Id==p.seller_id).profile_picture_url" alt="Admin">
                                    <span>@Model.Users.FirstOrDefault(s=>s.Id==p.seller_id).UserName</span>
                                </div>
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn btn-restore">
                                        <i class="fas fa-undo"></i> Restore
                                    </button>
                                    <button class="action-btn btn-delete">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </td>
                        </tr>
                    }
 
                </tbody>
            </table>
        </div>
    </div>

    <!-- Categories Tab Content -->
    <div class="tab-content" id="categories-tab">
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>

                        <th>Category</th>
                        <th>Parent Category</th>
                        <th>Deleted By</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var c in Model.DeletedCategories)
                    {
                        <tr>
                            <td>
                                <div class="item-info">
                                    <img src="@c.image_url" alt="Electronics" class="item-image">
                                    <div class="item-details">
                                        <div class="item-name">@c.name</div>
                                        <div class="item-id">ID: @c.id</div>
                                    </div>
                                </div>
                            </td>
                            <td>@c.ParentCategory.name</td>
                            <td>
                                <div class="deleted-by">
                                    <img src="@Model.Users.FirstOrDefault(a=>a.Id==c.deleted_by).profile_picture_url" alt="Admin">
                                    <span>@Model.Users.FirstOrDefault(a => a.Id == c.deleted_by).UserName</span>
                                </div>
                            </td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn btn-restore">
                                        <i class="fas fa-undo"></i> Restore
                                    </button>
                                    <button class="action-btn btn-delete">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    </div>

    <!-- Sellers Tab Content -->
    <div class="tab-content" id="sellers-tab">
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        
                        <th>Seller</th>
                        <th>Deleted At</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Seller 1 -->
                    @foreach (var s in Model.DeletedSellers)
                    {
                        <tr>
                            <td>
                                <div class="item-info">
                                    <img src="@s.profile_picture_url" alt="John Smith" class="item-image">
                                    <div class="item-details">
                                        <div class="item-name">@s.UserName</div>
                                        <div class="item-id">ID: @s.Id</div>
                                    </div>
                                </div>
                            </td>

                            <td>@s.deleted_at</td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn btn-restore">
                                        <i class="fas fa-undo"></i> Restore
                                    </button>
                                    <button class="action-btn btn-delete">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </td>
                        </tr>
                    }
 
                </tbody>
            </table>
        </div>
    </div>

    <!-- support Tab Content -->
    <div class="tab-content" id="support-tab">
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th style="width: 40px;">
                        </th>
                        <th>Customer Service</th>
                        <th>Deleted At</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var s in Model.DeletedCustomerService)
                    {
                        <tr>
                            <td>
                                <div class="item-info">
                                    <img src="@s.profile_picture_url" alt="John Smith" class="item-image">
                                    <div class="item-details">
                                        <div class="item-name">@s.UserName</div>
                                        <div class="item-id">ID: @s.Id</div>
                                    </div>
                                </div>
                            </td>

                            <td>@s.deleted_at</td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn btn-restore">
                                        <i class="fas fa-undo"></i> Restore
                                    </button>
                                    <button class="action-btn btn-delete">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    </div>
</main>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Card entrance animation
        const card = document.querySelector('.recycle-bin-card');
        card.style.opacity = 0;
        card.style.transform = 'scale(0.9) translateY(20px)';

        setTimeout(() => {
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease, box-shadow 0.4s ease';
            card.style.opacity = 1;
            card.style.transform = 'scale(1) translateY(0)';
        }, 100);

        // Button hover effects
        const buttons = document.querySelectorAll('.action-btn, .bulk-btn');
        buttons.forEach(button => {
            button.addEventListener('mouseenter', () => {
                button.style.transform = 'translateY(-3px)';
            });

            button.addEventListener('mouseleave', () => {
                button.style.transform = 'translateY(0)';
            });
        });



        // Tab switching functionality
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove active class from all buttons
                tabBtns.forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                btn.classList.add('active');

                // Hide all tab contents
                tabContents.forEach(content => content.classList.remove('active'));
                // Show the selected tab content
                const tabId = btn.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.add('active');
            });
        });
    });
</script>
